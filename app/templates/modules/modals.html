<!-- 修改密码弹窗 -->
<div id="changePasswordModal" class="console-container">
    <div class="console-window">
        <div class="console-header">
            <div>修改密码</div>
            <button class="close-btn" onclick="closeChangePasswordModal()">关闭</button>
        </div>
        <div class="console-body">
            <form id="changePasswordForm">
                <div class="config-form">
                    <div class="config-item">
                        <label>当前密码:</label>
                        <input type="password" id="currentPassword" placeholder="输入当前密码">
                    </div>
                    <div class="config-item">
                        <label>新密码:</label>
                        <input type="password" id="newPassword" placeholder="输入新密码">
                    </div>
                    <div class="config-item">
                        <label>确认新密码:</label>
                        <input type="password" id="confirmNewPassword" placeholder="再次输入新密码">
                    </div>
                    <div class="config-item">
                        <button type="button" id="submitChangePassword" class="btn btn-config">修改密码</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- SSH连接配置弹窗 -->
<div id="sshConfigModal" class="console-container">
    <div class="console-window">
        <div class="console-header">
            <div id="sshConfigTitle">SSH连接配置</div>
            <button class="close-btn" onclick="closeSSHConfig()">关闭</button>
        </div>
        <div class="console-body">
            <form id="sshConfigForm">
                <div class="ssh-form">
                    <div>
                        <label>连接名称:</label>
                        <input type="text" id="connName" placeholder="例如: server1">
                        <input type="hidden" id="connId">
                    </div>
                    <div>
                        <label>主机地址:</label>
                        <input type="text" id="sshHost" placeholder="例如: 192.168.1.100">
                    </div>
                    <div>
                        <label>端口:</label>
                        <input type="number" id="sshPort" value="22">
                    </div>
                    <div>
                        <label>用户名:</label>
                        <input type="text" id="sshUsername" placeholder="例如: ubuntu">
                    </div>
                    <div>
                        <label>认证方式:</label>
                        <select id="authMethod">
                            <option value="password">密码</option>
                            <option value="key">密钥文件</option>
                        </select>
                    </div>
                    <div id="passwordField">
                        <label>密码:</label>
                        <input type="password" id="sshPassword" placeholder="输入密码">
                    </div>
                    <div id="keyFileField" style="display:none;">
                        <label>密钥文件路径:</label>
                        <input type="text" id="sshKeyFile" placeholder="例如: ~/.ssh/id_rsa">
                    </div>
                    <div class="ssh-form-full">
                        <button type="button" id="testConnection" class="btn btn-debug">测试连接</button>
                        <button type="button" id="saveConnection" class="btn btn-connect">保存连接</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- SSH控制台弹窗 -->
<div id="consoleModal" class="console-container">
    <div class="console-window">
        <div class="console-header">
            <div id="consoleTitle">SSH控制台</div>
            <button class="close-btn" onclick="closeConsole()">关闭</button>
        </div>
        <div class="console-body">
            <div id="consoleOutput" class="console-output"></div>
            <div class="console-input-area">
                <div class="console-input">
                    <input type="text" id="consoleCommand" placeholder="输入命令..." onkeypress="if(event.keyCode==13) sendCommand()">
                    <button class="btn btn-execute" onclick="sendCommand()">执行</button>
                    <button class="btn btn-debug" onclick="toggleDebugMode()">调试模式</button>
                </div>
                <div id="debugSection" class="debug-section" style="display: none;">
                    <h4>调试工具</h4>
                    <div class="debug-buttons">
                        <button class="btn btn-debug" onclick="sendDebugCommand('ps aux | grep python')">查看Python进程</button>
                        <button class="btn btn-debug" onclick="sendDebugCommand('ls -la')">列出文件</button>
                        <button class="btn btn-debug" onclick="sendDebugCommand('pwd')">当前目录</button>
                        <button class="btn btn-debug" onclick="sendDebugCommand('df -h')">磁盘使用情况</button>
                        <button class="btn btn-debug" onclick="sendDebugCommand('top -bn1 | head -20')">系统状态</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>